#!/bin/sh
# github:benjaminhawkeslewis:bin/home-symlinks
# -*- Mode: Bash; tab-width: 4; indent-tabs-mode: nil; -*-
#
#       Create home symlinks

cd $HOME
test "`readlink $HOME/etc`" != $HOME/Projects/home/etc && ln -si $HOME/Projects/home/etc
test "`readlink $HOME/share`" != $HOME/Projects/home/share && ln -si $HOME/Projects/home/share
test "`readlink $HOME/var`" != $HOME/Projects/home/var && ln -si $HOME/Projects/home/var
mkdir -p $HOME/bin
cd $HOME/bin
for f in `find $HOME/Projects/home/bin -type f` ; do
    relative=${f#/root/Projects/home/bin/}
    test "`readlink $HOME/bin/$relative`" != "$f" && ln -si $f ;
done
cd $HOME
for f in `find $HOME/Projects/home -maxdepth 1 -type f -name '.bash*'` ; do
    relative=${f#/root/Projects/home/}
    test "`readlink $HOME/$relative`" != "$f" && ln -si $f ;
done
test "`readlink $HOME/.gitignore`" != $HOME/etc/gitignore && ln -si $HOME/etc/gitignore .gitignore
test "`readlink $HOME/.vim`" != $HOME/etc/vim && test -d $HOME/.vim && rm -ri $HOME/.vim
test "`readlink $HOME/.vim`" != $HOME/etc/vim && ln -siT $HOME/etc/vim .vim
test "`readlink $HOME/.vimrc`" != $HOME/etc/vim/vimrc && ln -si $HOME/etc/vim/vimrc .vimrc
test "`readlink $HOME/.tmux.conf`" != $HOME/etc/tmux/tmux.conf && ln -si $HOME/etc/tmux/tmux.conf .tmux.conf
test "`readlink $HOME/.ssh/rc`" != $HOME/etc/ssh/rc && ln -si $HOME/etc/ssh/rc .ssh/rc
chmod 755 ~/.ssh/rc
